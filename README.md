# PixeliModa - Client

## History

| 날짜           | 내용                                  | 설명                                             |
| -------------- | ------------------------------------- | ------------------------------------------------ |
| 2024.11.17(일) | 블로그 페이지의 카드 섹션 스타일 정의 | NES.CSS를 사용하여 블로그의 카드섹션 스타일 정의 |
| 2024.12.01(일) | 블로그 페이지 카드 섹션 스타일 모듈화 | NES.CSS를 사용하여 블로그의 카드섹션 스타일 정의 |
| 2024.12.01(일) | 블로그 리스트 불러오는 API 작성       | 우선 1페이지만 가져오도록 기능 작성              |

## Considerations and decisions

| 날짜           | 고민 사항                        | 결정 사항              |
| -------------- | -------------------------------- | ---------------------- |
| 2024.11.18(월) | 회원가입 페이지 기능 구현해야 함 | 필수 기능, 우선 나중에 |

## Memo

- 현재 Blog쪽 페이지의 라우팅 처리 규칙이 없음. 규칙을 정하고 라우팅을 정의할 필요가 있음. 한번 검사하고 수정 해야할듯.
- React Query를 사용해야 할 것 같음. User 정보의 경우 React Query에 담아도 되지 않을까
- 현재 로그인 후의 처리가 깔끔하지 않음. 로그인을 하면 Sign in 버튼과 Sign up 버튼을 숨김 처리 해야함.
- 비밀번호 입력 후 focus가 제대로 처리되지 않아 Enter를 눌러도 로그인이 되지 않음.
- 로딩페이지 구현이 필요함. 또한, Private Tag에 좀 더 스타일을 입혀야 함.
- 404페이지도 꾸미고 싶음.
- 패치노트 페이지도 만들면 좋을 듯. 패치노트는 관리자만 쓸 수 있도록 하거나 아니면 그냥 클라이언트 내 하드코딩해도 무관할듯.

## Tech Note

1. 라우팅 관련 처리
   클라이언트와 서버간의 키워드는 확실하게 통일하는게 좋음. 예를 들어, 지금 클라이언트에서는 페이지당 불러오는 최대 리스트 갯수를 지칭하는 것을 perPage라고 하였지만 서버에서는 limit로 지정하였음. 코드 가독성에 문제가 생겨 추후 관리하기가 어려워 질 수 있음. 이것 말고도 좀 많음. 한번 쭉 훑어보고 고쳐야 할 부분 있으면 고쳐야 할 듯.

2. 유저 정보 처리
   원칙은 쿠키에 담고 관리하며 httpOnly를 사용하여 JS 엔진이 쿠키를 사용할 수 없도록 조치해야 함. 이렇게 되면 코드에서 유저정보를 읽어올 수 없어 코드 처리가 약간 귀찮아짐. 일단 어떻게 해야할지 정보 수집 중.(20241202 기준) 지금은 일단 JWT를 localStorage에서 관리중인데 리팩토링 필요함.
   우선 지금 당장 해야하는거는 JSON 쪽 유저 검증하는거. 지금 !jwt 이렇게 되어있어서 그냥 토큰만 있으면 로그인 처리가 됨. 요것부터 기능 구현해야 함.

3. 데이터 명세 및 API 문서화
   우선 데이터 명세는 해놨음. 그런데 확실히 API를 문서화 해놓지 않으니 불편함. 지금 혼자 사용하고 있어서 그냥 Thunder Client에 API 전부 넣어놨는데 문서가 필요할듯.
   그냥 모든 개발정보를 망라해놓은 통합 문서가 필요할 듯. 다음 프로젝트 할땐 이렇게 해볼까함. 통합 문서는 사용자 요구, 데이터, API, 키워드, 파일구조, 사용 라이브러리/프레임워크, 데이터 플로우 차트, 테스트 문서까지 템플릿을 좀 구하거나 만들어야 할 듯. 일단 다른 사람들이 작성해놓은 외부 템플릿을 좀 활용할까 함.

4. 팀 프로젝트
   다음엔 내가 리더가 되어서 팀프로젝트를 하나 이끌어가고싶음. 간단한 CRUD 정도만 구현하는걸로. 지금 AI 툴들 이용해서 에셋이나 코드들 조금씩 생성하거나 수정하고 있는데 다음 프로젝트엔 에셋은 몰라도 코드는 진짜 순수하게 개발하고싶음.

5. 클라이언트 스타일 모듈화
   지금 클라이언트 모듈들 약간 손볼필요 있을듯. 일단 멀티 repo 기준으로 작성하긴 했는데 좀 난잡함. 아마 세부적인 규칙이 없어서 그런듯. 유틸이랑 타입쪽도 조금 손 댈 필요가 있음. 타입모듈은 현재 각각의 페이지별로 필요한 타입들 선언해두고 import 해서 타입 유틸리티 사용해서 뽑아 쓰는 중. 타입 유틸리티 진짜 유용함.
   그리고 서버쪽에 스키마가 있는데 굳이 response에 타입을 또 검사할 필요는 없는듯. 일단 타입은 선언해두되 request쪽에만 타입 걸어놓는게 좋아보임. 괜히 타입 수정할 때 서버쪽이랑 타입 desync 나서 고생하기 싫음.
   그리고 지금 API쪽 모듈도 좀 수정해야 함. 너무 중구난방. React Query 모듈 하나 작성해놓고 전반적으로 리팩토링 해야함.
   마지막으로, 지금 로그인쪽 id랑 pwd 전부 state 안에 저장하고 API로 전송하고 있음. 너무 위험한 방식임.(개발자 도구로 다 털림) 이거 React Hook Form 형태로 리팩토링 해야함. 할게 많음.

6. 서버쪽
   서버쪽은 그래도 잘 정돈된 느낌임. 클라이언트보다 구조가 단순함. 그냥 라우트 - 컨트롤러 - 모델(스키마) 형태로 잘 이어져 있고 JSDoc 진짜 신경써서 작성했음. 근데 에러 핸들링이 너무 빈약함. 에러 핸들링도 모듈화 하면 좋을듯. Switch문 하나 만들어서 숫자로 리턴하고 그 숫자에 맞게 에러 로그 남기는것도 좋아보임. 일단 급한건 아니기에 우선순위에서 좀 많이 밀려남. 나중에 하자.

- 테크노트 우선순위 정리 필요
- 일정도 산출 필요
